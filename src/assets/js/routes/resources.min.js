!function(){"use strict";var i=window.tabId,n=window.Tabs[i];window.renderContentIds();var o=window.routeParams[0];if(void 0!==o){var e=window.apiResources[o];if(void 0!==e){var t,a,r,s,d,l=window.lang,u=window.i18n,c=window.routeParams[1];void 0===c?(t=u({en_us:"List",pt_br:"Listar"}),a=e.label[l],s=!0):("new"===c?(t=u({en_us:"Create",pt_br:"Criar"}),r=!(c=void 0)):t=u({en_us:"Edit",pt_br:"Editar"}),a=e.label[l]+" · "+t),d="<strong>"+e.label[l]+"</strong> · "+t,$("#t"+i+"-resource-name").html(d),d='<li class="breadcrumb-item"><a href="/#/resources/'+o+'"><i class="fa fa-'+e.icon+'"></i> '+e.label[l]+'</a></li><li class="breadcrumb-item active">'+t+"</li>",$("#t"+i+"-breadcrumbs").append(d);var w=ace.edit("t"+i+"-code-editor");w.setTheme("ace/theme/dawn"),w.session.setMode("ace/mode/json"),$("#t"+i+"-code-tab").click(function(){setTimeout(function(){w.focus(),w.renderer.updateFull()},200)});var f,m,b,v=function(e){var t;e||(!0===s?t="routes/resources/list.html":(t="routes/resources/form/"+o+".html",n.commit=p,w.on("blur",function(){var e;try{e=JSON.parse(w.session.getValue())}catch(e){return}n.data=e}),w.on("change",function(){window.triggerUnsaved(i)})),window.loadContent(t,$("#t"+i+"-tab-normal")));window.routeReady(a)},p=function(e,t){t||(n.data=e),w.session.setValue(JSON.stringify(e,null,4))};if(n.resourceId=c,n.slug=o,!0!==r)void 0===c?(f=o+".json",b="limit=60",w.setReadOnly(!0)):f=o+"/"+c+".json",m=function(i,e){var t=f;e&&(t+="?"+e),window.callApi(t,"GET",function(e,t){e||(void 0!==c&&(delete t._id,delete t.store_id,delete t.created_at,delete t.updated_at),p(t)),"function"==typeof i&&i(null,t)})},(n.load=m)(v,b);else p({}),v()}else window.e404()}else window.e404()}();