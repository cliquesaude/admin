!function(){"use strict";var t,n,a=window.tabId,e=window.Tabs[a],c=$("#products-list-container"),d=window.i18n,s=function(){t=e.data,n=t.hits.hits.map(function(t){return Object.assign(t._source,{_id:t._id})})};if(s(),n.length){var r="",u=[],o=function(){var t;""!==r?(t={bool:{must:{multi_match:{query:r,fields:["name","keywords"]}}}},u.length&&(t.bool.filter=u)):u.length&&(t={bool:{filter:u}});c.addClass("ajax"),e.load(function(){s(),l()},t)},p=c.find("#products-list-results"),m=c.find("#products-list-filters");m.submit(o),handleInputs(m,function(t,a){var e=t.attr("name"),s=t.data("opt"),r=t.data("filter"),o=t.val();o=t.data("is-number")?stringToNumber(o):"number"===t.attr("type")?parseFloat(o):o.trim();for(var l=0;l<u.length;l++){var i=u[l][r];if(i&&i.hasOwnProperty(e))return void(s?""!==o?i[e][s]=o:(delete i[e][s],Object.keys(i[e]).length||u.splice(l,1)):""!==o?i[e]=o:u.splice(l,1))}if(""!==o){var n={};n[r]={},s?(n[r][e]={},n[r][e][s]=o):n[r][e]=o,u.push(n)}});var l=function(){for(var t=[],a=0;a<n.length;a++){var e=n[a],s=$("<div />",{class:"col",html:'<a href="/'+window.location.hash+"/"+e._id+'">'+e.name+'</a><div class="custom-controls-stacked"><div class="custom-control custom-checkbox"><input type="checkbox" class="custom-control-input"><label class="custom-control-label text-monospace">'+e.sku+"</label></div></div>"});t.push(s)}p.html($("<div />",{class:"row row-products",html:t}));var r={brands:{label:d({en_us:"Brands",pt_br:"Marcas"})},categories:{label:d({en_us:"Categories",pt_br:"Categorias"})}};for(var o in r)if(r.hasOwnProperty(o)){var l=r[o],i=$("<select />",{multiple:!0,"data-live-search":!0,class:"form-control"});m.prepend($("<div />",{class:"form-group",html:i})),i.selectpicker({style:"btn-light",noneSelectedText:l.label,windowPadding:70})}c.removeClass("ajax")},i=c.find("#search-products"),h=i.find("input");h.attr("placeholder",d({en_us:"Polo Shirt",pt_br:"Camisa Polo"})),i.submit(function(){r=h.val().trim(),o()}),l()}}();