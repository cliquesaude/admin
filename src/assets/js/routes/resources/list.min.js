/*!
 * Copyright 2018 E-Com Club
 */
!function(){"use strict";var a=window.tabId,b=$("#"+a+"-tab-normal");window.renderContentIds(b);var c=window.tabData[a].result;$("#"+a+"-create").click(function(){window.location="/"+window.location.hash+"/new"});var d='<div class="custom-controls-stacked"><div class="custom-control custom-checkbox"><input type="checkbox" class="custom-control-input" /><label class="custom-control-label"> </label></div></div>',e=$("#"+a+"-resource-list");e.jsGrid({autoload:!0,filtering:!0,sorting:!0,confirmDeleting:!1,pageLoading:!0,pageSize:1e3,rowClick:function(a){var b=a.event.originalEvent||a.event;if(b){var c=b.target;if(c)switch(c.nodeName){case"TD":for(var d=0;d<c.classList.length;d++)if("data-list-check"===c.classList[d])return void $(c).find("label").click();break;case"LABEL":case"INPUT":case"DIV":case"SELECT":return}}window.location="/"+window.location.hash+"/"+a.item._id},controller:{loadData:function(a){return{data:c,itemsCount:c.length}}},fields:[{align:"center",css:"data-list-check",filtering:!1,sorting:!1,headerTemplate:function(){var a=$(d);return a.find("input").on("change",function(){var a=$(this).is(":checked")?":not(:checked)":":checked";$(".data-list-check input"+a).next().click()}),a},itemTemplate:function(a,b){var c=$(d),e=b._id;return c.find("input").on("change",function(){$(this).is(":checked")?g(e):h(e)}),c}},{name:"_id",title:"ID",type:"text"},{name:"sku",title:"SKU",type:"text"}]});var f=[],g=function(a){f.push(a)},h=function(a){f=$.grep(f,function(b){return b!==a})};$("#"+a+"-delete").click(function(){f.length&&(console.log(f),e.jsGrid("loadData"),f=[])})}();